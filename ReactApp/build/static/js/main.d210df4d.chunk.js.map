{"version":3,"sources":["contexts/userContext.jsx","images/search.svg","components/movie.jsx","components/movies.jsx","components/sideBar.jsx","components/titleSearchResults.jsx","components/searchBar.jsx","components/topBar.jsx","pages/HomePage.jsx","components/list.jsx","components/addList.jsx","components/lists.jsx","components/movieDetailed.jsx","pages/MoviePage.jsx","pages/LoginPage.jsx","pages/ShowsPage.jsx","pages/SeatsPage.jsx","components/PaymentButton.jsx","pages/BookingPage.jsx","components/ratingDialogue.jsx","pages/ListsPage.jsx","pages/SignupPage.jsx","App.js","reportWebVitals.js","index.js"],"names":["UserContext","React","createContext","Movie","props","Card","className","tag","onClick","history","push","movie","movie_id","border","style","width","height","Img","variant","src","this","poster_url","ImgOverlay","count","size","color2","value","avg_rating","edit","Body","Title","movie_title","Text","parseDate","release_date","Component","string","arr","split","number","order_suffix","month","year","charAt","withRouter","Movies","console","log","movies","map","SideBar","state","goToListPage","Object","keys","context","user","length","user_id","localStorage","setItem","Nav","activeKey","onSelect","selectedKey","alert","Item","Link","href","eventKey","disabled","contextType","TitleSearchResults","handleClickOutside","event","wrapperRef","current","contains","target","clickedOutside","createRef","document","addEventListener","removeEventListener","ref","dropdownClasses","results","slice","result","NavDropdown","entryDialogue","id","name","SearchBar","city","title","genres","people","typingTimout","bool","setState","changeName","typingTimeout","clearTimeout","type","setTimeout","timedSearch","searchCities","then","response","json","i","city_id","city_name","searchMovie","fetch","method","body","JSON","stringify","headers","submitHandler","preventDefault","pathname","window","location","reload","clickHandler","sendResult","Form","inline","onSubmit","FormControl","placeholder","onChange","Button","TopBar","profileRender","username","logoutUser","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","Divider","HomePage","fetchMovies","Container","fluid","Row","Col","xs","EntryDialogue","useHistory","useState","setMovies","closeBox","closeDialogue","Modal","show","Header","closeButton","list","list_name","containsId","oldArray","margin","m","filter","Footer","getItem","movie_ids","list_id","Authorization","status","reloadPage","List","clicked","items","item","score","watch_status","toString","ListDialogue","setName","isPrivate","setPrivate","useContext","is_private","Group","controlId","Label","Control","e","Check","label","defaultChecked","checked","AddList","marginTop","Lists","entries","ratings","showWatched","showUnwatched","searchString","sortMode","sort","fetchEntries","match","params","fetchRatings","toggleWatched","toggleUnwatched","toggleSort","mode","_isMounted","FormControlLabel","control","Checkbox","Table","striped","bordered","hover","as","column","sm","marginLeft","icon","faSort","selected_all","entry","toLowerCase","search","a","b","selected_list","display","showEntryDialogue","showRatingDialogue","marginBottom","setSelectedAll","lists","changeSelected","marginRight","faLock","showListDialogue","FullRating","review","newRating","setNewRating","rating","setRating","ratingExists","setRatingExists","setLists","editMode","setEditMode","useEffect","fetchRating","showLists","fetchLists","msg","prevState","DropdownButton","Dropdown","ListGroup","ListGroupItem","Rating","max","precision","emptyIcon","fontSize","newScore","rows","defaultValue","readOnly","PresentInLists","OthersRatings","setRatings","Subtitle","MovieDetailed","fetchMovie","Image","thumbnail","overflow","position","genre","capitalizeFirstLetter","genre_name","genre_id","movie_description","block","person","person_role","profile_url","person_name","cast_or_crew","parseRoles","person_id","toUpperCase","MoviePage","LoginPage","password","handleUsernameChange","handlePasswordChange","doLogin","error","jwt","loginUser","ShowsPage","shows","fetchShows","text","theatre_mall","date_time","show_id","BookedSeats","SeatsPage","SeatSelect","getElementById","classList","toggle","RemoveSeat","SeatCheck","code","backgroundColor","SortSeats","j","n","parseInt","seat_code","c","d","localeCompare","temp","seats","fetchSeats","index","indexOf","splice","seat_status","color","borderRadius","SeatsBooked","PaymentButton","buttonColor","buttonType","buttonSizeMode","buttonWidth","buttonHeight","environment","Home","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","currencyCode","countryCode","onLoadPaymentData","BookingPage","BSeats","paymentDeets","Book","RatingDialogue","setMovie","hasSelectedMovie","setHasSelectedMovie","getMovie","MovieDisplay","showList","ListsPage","showEntry","showRating","refreshEntries","closeListDialogue","closeEntryDialogue","closeRatingDialogue","reloadEntries","reloadLists","componentDidMount","undefined","SignupPage","email","has_selected_city","handleEmailChange","doSignup","getCity","cityDisplay","Routing","exact","path","render","App","logout","clear","login","logged_in","details","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","ReportWebVitals"],"mappings":"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","file":"static/js/main.d210df4d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext;\r\n","export default __webpack_public_path__ + \"static/media/search.3ea27197.svg\";","import React, { Component } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../styles/HomePage.css\";\r\nimport \"../styles/movieCard.css\";\r\nimport ReactStars from \"react-stars\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass Movie extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card\r\n        className=\"movie\"\r\n        tag=\"a\"\r\n        onClick={() => {\r\n          this.props.history.push(`/movies/${this.props.movie.movie_id}`);\r\n        }}\r\n        border=\"none\"\r\n        style={{ width: \"250px\", height: \"470px\" }}\r\n      >\r\n        <Card.Img\r\n          variant=\"top\"\r\n          src={this.props.movie.poster_url}\r\n          style={{ width: \"250px\", height: \"calc(250px * (40/27))\" }}\r\n        />\r\n        <Card.ImgOverlay>\r\n          <ReactStars\r\n            className=\"home-star-rating\"\r\n            count={5}\r\n            size={18}\r\n            color2={\"#ffd700\"}\r\n            value={this.props.movie.avg_rating * 0.5}\r\n            edit={false}\r\n          />\r\n        </Card.ImgOverlay>\r\n        <Card.Body>\r\n          <Card.Title>{this.props.movie.movie_title}</Card.Title>\r\n          <Card.Text>{parseDate(this.props.movie.release_date)}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nfunction parseDate(string) {\r\n  var arr = string.split(\" \");\r\n  var number = arr[1];\r\n  var order_suffix = \"\";\r\n  var month = arr[2];\r\n  var year = arr[3];\r\n  if (number.charAt(1) == \"1\") order_suffix = \"st\";\r\n  else if (number.charAt(1) == \"2\") order_suffix = \"nd\";\r\n  else if (number.charAt(1) == \"3\") order_suffix = \"rd\";\r\n  else order_suffix = \"th\";\r\n  if (number.charAt(0) == \"0\") number = number.charAt(1);\r\n  return number + order_suffix + \" \" + month + \" \" + year;\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport default withRouter(Movie);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport Movie from \"./movie\";\r\n\r\nclass Movies extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex align-content-stretch flex-wrap bd-highlight example-parent\">\r\n        {this.props.movies.map((movie) => (\r\n          <div\r\n            key={movie.movie_id}\r\n            className=\"p-2 bd-highlight col-example home-page-movie\"\r\n          >\r\n            <Movie movie={movie} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Movies);\r\n","import React, { Component } from \"react\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport UserContext from \"../contexts/userContext\";\r\n\r\nclass SideBar extends Component {\r\n  static contextType = UserContext;\r\n  state = {};\r\n\r\n  goToListPage = () => {\r\n    if (!Object.keys(this.context.user).length) {\r\n      localStorage.setItem(\"lastLoc\", \"/\");\r\n      this.props.history.push(\"/login\");\r\n    } else this.props.history.push(`/users/${this.context.user.user_id}/lists`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Nav\r\n          className=\"col-md-12 d-none d-md-block bg-light sidebar\"\r\n          activeKey=\"/home\"\r\n          onSelect={(selectedKey) => alert(`selected ${selectedKey}`)}\r\n        >\r\n            <div className=\"sidebar-sticky\"></div>\r\n            <Nav.Item>\r\n            <Nav.Link onClick={this.goToListPage}>Lists</Nav.Link>\r\n          </Nav.Item>\r\n        <Nav.Item>\r\n            <Nav.Link href=\"/home\">About Us</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n            <Nav.Link eventKey=\"link-1\">Report Issue</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n            <Nav.Link eventKey=\"link-2\">Donate</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n            <Nav.Link eventKey=\"link-3\" disabled>\r\n            Merchandise\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SideBar);\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { NavDropdown } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass TitleSearchResults extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.wrapperRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  /**\r\n   * Alert if clicked on outside of element\r\n   */\r\n  handleClickOutside = (event) => {\r\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n      this.props.clickedOutside(true);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.wrapperRef} className={this.props.dropdownClasses}>\r\n        {this.props.results.slice(0, 10).map((result) => (\r\n          <NavDropdown.Item\r\n            key={result.id}\r\n            onClick={() => {\r\n              if (this.props.entryDialogue) {\r\n                this.props.onClick(result.id, result.name);\r\n              } else {\r\n                this.props.history.push(`/movies/${result.id}`);\r\n              }\r\n            }}\r\n          >\r\n            {result.name}\r\n          </NavDropdown.Item>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(TitleSearchResults);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport {\r\n  Navbar,\r\n  NavDropdown,\r\n  Nav,\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport TitleSearchResults from \"./titleSearchResults\";\r\nimport movie from \"./movie\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    city: \"\",\r\n    movie: { title: \"\", genres: [], people: [] },\r\n    results: [],\r\n    typingTimout: 0,\r\n    dropdownClasses: \"dropdown-menu\",\r\n  };\r\n\r\n  clickedOutside = (bool) => {\r\n    if (bool) this.setState({ dropdownClasses: \"dropdown-menu\" });\r\n  };\r\n\r\n  changeName = (event) => {\r\n    if (this.state.typingTimeout) {\r\n      clearTimeout(this.state.typingTimeout);\r\n    }\r\n    if (this.props.type && this.props.type == \"city\") {\r\n      this.setState({ city: event.target.value });\r\n    } else {\r\n      this.setState({\r\n        movie: {\r\n          title: `${event.target.value}`,\r\n          genres: this.state.movie.genres,\r\n          people: this.state.movie.people,\r\n        },\r\n      });\r\n    }\r\n    if (event.target.value) {\r\n      this.state.typingTimeout = setTimeout(this.timedSearch, 700);\r\n    }\r\n  };\r\n\r\n  timedSearch = () => {\r\n    if (this.props.type == \"city\") {\r\n      this.searchCities(this.state.city)\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          let results = [];\r\n          json.map(\r\n            (city, i) =>\r\n              (results[i] = { id: city.city_id, name: city.city_name })\r\n          );\r\n          console.log(results);\r\n          this.setState({ results: results });\r\n          return json;\r\n        })\r\n        .then((results) => {\r\n          if (results.length) {\r\n            this.setState({\r\n              dropdownClasses: \"show dropdown-menu\",\r\n            });\r\n          } else\r\n            this.setState({\r\n              dropdownClasses: \"dropdown-menu\",\r\n            });\r\n        });\r\n    } else {\r\n      this.searchMovie(this.state.movie)\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          let results = [];\r\n          json.map(\r\n            (movie, i) =>\r\n              (results[i] = { id: movie.movie_id, name: movie.movie_title })\r\n          );\r\n          console.log(results);\r\n          this.setState({ results: results });\r\n          return json;\r\n        })\r\n        .then((results) => {\r\n          if (results.length) {\r\n            this.setState({\r\n              dropdownClasses: \"show dropdown-menu\",\r\n            });\r\n          } else\r\n            this.setState({\r\n              dropdownClasses: \"dropdown-menu\",\r\n            });\r\n        });\r\n    }\r\n  };\r\n\r\n  searchMovie = (movie) => {\r\n    return fetch(\"http://localhost:5000/api/search/movies\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(movie),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    });\r\n  };\r\n\r\n  searchCities = (city) => {\r\n    return fetch(\"http://localhost:5000/api/search/cities\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        city: city,\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    });\r\n  };\r\n\r\n  submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (!this.props.entryDialogue) {\r\n      this.searchMovie(this.state.movie)\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          this.props.history.push({\r\n            pathname: \"/\",\r\n            state: { movies: json },\r\n          });\r\n        })\r\n        .then(() => {\r\n          window.location.reload(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  clickHandler = (movie_id, movie_title) => {\r\n    this.clickedOutside(true);\r\n    this.props.sendResult(movie_id, movie_title);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.entryDialogue ? (\r\n          <Form\r\n            inline\r\n            onSubmit={this.submitHandler}\r\n            className=\"nav-item dropdown\"\r\n          >\r\n            <FormControl\r\n              type=\"text\"\r\n              placeholder={\r\n                this.props.type ? this.props.type : \"Search for a movie...\"\r\n              }\r\n              className=\"mr-sm-2\"\r\n              onChange={this.changeName}\r\n            />\r\n            <TitleSearchResults\r\n              type={this.props.type}\r\n              onClick={this.clickHandler}\r\n              entryDialogue={this.props.entryDialogue}\r\n              dropdownClasses={this.state.dropdownClasses}\r\n              results={this.state.results}\r\n              clickedOutside={this.clickedOutside}\r\n            />\r\n          </Form>\r\n        ) : (\r\n          <Form\r\n            inline\r\n            onSubmit={this.submitHandler}\r\n            className=\"nav-item dropdown\"\r\n          >\r\n            <FormControl\r\n              type=\"text\"\r\n              placeholder=\"Search\"\r\n              className=\"mr-sm-2\"\r\n              onChange={this.changeName}\r\n            />\r\n            <Button variant=\"outline-success\" type=\"submit\">\r\n              Search\r\n            </Button>\r\n            <TitleSearchResults\r\n              onClick={this.clickHandler}\r\n              entryDialogue={this.props.entryDialogue}\r\n              dropdownClasses={this.state.dropdownClasses}\r\n              results={this.state.results}\r\n              clickedOutside={this.clickedOutside}\r\n            />\r\n          </Form>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchBar);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport {\r\n  Navbar,\r\n  NavDropdown,\r\n  Nav,\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport SearchBar from \"./searchBar\";\r\n\r\nclass TopBar extends Component {\r\n  static contextType = UserContext;\r\n  state = {};\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    console.log(this.context);\r\n  }\r\n\r\n  profileRender = () => {\r\n    if (!Object.keys(this.context.user).length) {\r\n      return (\r\n        <div>\r\n          <Button\r\n            onClick={() => {\r\n              console.log(this.props);\r\n              localStorage.setItem(\"lastLoc\", this.props.location.pathname);\r\n              this.props.history.push(\"/login\");\r\n            }}\r\n          >\r\n            Log in\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <div>\r\n          <Button>{this.context.user.username}</Button>\r\n          {\"  \"}\r\n          <Button\r\n            onClick={() => {\r\n              this.context.logoutUser();\r\n            }}\r\n          >\r\n            Log out\r\n          </Button>\r\n        </div>\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Navbar bg=\"light\" expand=\"lg\">\r\n        <Navbar.Brand>Dodo Shows</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Nav.Link\r\n              onClick={() => {\r\n                this.props.history.push(\"/\");\r\n              }}\r\n            >\r\n              Home\r\n            </Nav.Link>\r\n            <Nav.Link href=\"#link\">Link</Nav.Link>\r\n            <SearchBar entryDialogue={false} />\r\n            <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\r\n              <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\r\n              <NavDropdown.Item href=\"#action/3.2\">\r\n                Another action\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item href=\"#action/3.4\">\r\n                Separated link\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n          </Nav>\r\n          {this.profileRender()}\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(TopBar);\r\n","import search from \"../images/search.svg\";\r\nimport \"../styles/HomePage.css\";\r\nimport React, { Component } from \"react\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport Movies from \"../components/movies\";\r\nimport SideBar from \"../components/sideBar\";\r\nimport TopBar from \"../components/topBar\";\r\nimport { Container, Row, Col, Card, Form, Button } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass HomePage extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    movies: [],\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(this);\r\n    if (props.location.state) {\r\n      this.state = { movies: props.location.state.movies };\r\n      console.log(this.state);\r\n    } else this.fetchMovies();\r\n  }\r\n\r\n  fetchMovies = () => {\r\n    fetch(\"http://localhost:5000/api/movies/\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        this.setState({ movies: json });\r\n        console.log(this.state.movies);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Container fluid>\r\n          <TopBar />\r\n          <br></br>\r\n          <Row>\r\n            <Col xs={2} id=\"sidebar-wrapper\">\r\n              <SideBar />\r\n            </Col>\r\n            <Col xs={10} id=\"page-content-wrapper\">\r\n              <Container>\r\n                <Movies movies={this.state.movies} />\r\n              </Container>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n  // ShowUserMenu() {\r\n  //   document.getElementById(\"UserOptions\").classList.toggle(\"show\");\r\n  // }\r\n\r\n  // render() {\r\n  //   const HoverText = styled.a`\r\n  //     color: white;\r\n  //     text-decoration: none;\r\n\r\n  //     :hover {\r\n  //       color: black;\r\n  //       cursor: pointer;\r\n  //     }\r\n  //   `;\r\n  //   const UserLinks = styled.a`\r\n  //     color: white;\r\n  //     text-decoration: none;\r\n\r\n  //     :hover {\r\n  //       color: #b0e0e6;\r\n  //       cursor: pointer;\r\n  //     }\r\n  //   `;\r\n\r\n  //   return (\r\n  //     <body>\r\n  //       <div className=\"MovieCard\" />\r\n  //       <div className=\"toppanel\">\r\n  //         <button className=\"profilepic\" onClick={this.ShowUserMenu} />\r\n  //         <div id=\"UserOptions\" className=\"UserMenu\">\r\n  //           <div className=\"smallT\" />\r\n  //           <UserLinks href=\"#op1\">Your movies</UserLinks>\r\n  //           <br></br>\r\n  //           <br></br>\r\n  //           <UserLinks href=\"#op2\">Your friends</UserLinks>\r\n  //           <br></br>\r\n  //           <br></br>\r\n  //           <UserLinks href=\"#op3\">Your ratings</UserLinks>\r\n  //           <br></br>\r\n  //           <br></br>\r\n  //           <UserLinks href=\"#op4\">Invert colour theme</UserLinks>\r\n  //           <br></br>\r\n  //           <br></br>\r\n  //           <UserLinks href=\"#op5\">Logout</UserLinks>\r\n  //         </div>\r\n  //       </div>\r\n\r\n  //       <div className=\"search\">\r\n  //         <input type=\"image\" src={search} className=\"search-logo\" />\r\n  //         <input\r\n  //           type=\"text\"\r\n  //           className=\"SearchBar\"\r\n  //           placeholder=\"Search for a movie..\"\r\n  //         />\r\n  //       </div>\r\n\r\n  //       <div className=\"leftpanel\">\r\n  //         <p className=\"menu\">\r\n  //           <div className=\"r1\" />\r\n  //           <div className=\"r2\" />\r\n  //           <div className=\"r3\" />\r\n  //           <div className=\"r4\" />\r\n  //           <div className=\"r5\" />\r\n\r\n  //           <HoverText href=\"https://www.google.com\"> Trending </HoverText>\r\n  //           <br />\r\n  //           <br />\r\n  //           <HoverText href=\"https://www.google.com\"> Your lists </HoverText>\r\n  //           <br />\r\n  //           <br />\r\n  //           <HoverText href=\"https://www.google.com\">\r\n  //             {\" \"}\r\n  //             Future Releases{\" \"}\r\n  //           </HoverText>\r\n  //           <br />\r\n  //           <br />\r\n  //           <HoverText href=\"https://www.google.com\"> Watched </HoverText>\r\n  //           <br />\r\n  //           <br />\r\n  //           <HoverText href=\"https://www.google.com\"> About Us </HoverText>\r\n  //         </p>\r\n  //       </div>\r\n  //     </body>\r\n  //   );\r\n  // }\r\n}\r\nexport default withRouter(HomePage);\r\n","import React, { Component, useState } from \"react\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\nimport { Modal, Form, Button } from \"react-bootstrap\";\r\nimport SearchBar from \"./searchBar\";\r\n\r\nconst EntryDialogue = (props) => {\r\n  let history = useHistory();\r\n  const [movie, setMovie] = useState(\"\");\r\n  const [list, setList] = useState(\"\");\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const postMovies = (event) => {\r\n    event.preventDefault();\r\n    console.log(localStorage.getItem(\"jwt\"));\r\n    if (movies.length) {\r\n      const movie_ids = movies.map((movie) => movie.movie_id);\r\n      console.log(movie_ids);\r\n      fetch(`http://localhost:5000/api/lists/${props.list.list_id}`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          movie_ids,\r\n        }),\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (response.status != 200) {\r\n            localStorage.setItem(\"lastLoc\", `${history.location.pathname}`);\r\n            history.push(\"/login\");\r\n          }\r\n        })\r\n        .then(() => {\r\n          closeBox();\r\n          props.reloadPage();\r\n        });\r\n    }\r\n  };\r\n\r\n  function containsId(id, list) {\r\n    var i;\r\n    for (i = 0; i < list.length; i++) {\r\n      if (list[i].movie_id === id) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n  const getMovie = (movie_id, movie_title) => {\r\n    console.log(movie_id);\r\n    console.log(movie_title);\r\n    if (!containsId(movie_id, movies))\r\n      setMovies((oldArray) => [\r\n        ...oldArray,\r\n        { movie_id: movie_id, movie_title: movie_title },\r\n      ]);\r\n  };\r\n  const removeMovie = (m) => {\r\n    setMovies(movies.filter((movie) => movie != m));\r\n  };\r\n  const closeBox = () => {\r\n    setMovies([]);\r\n    props.closeDialogue();\r\n  };\r\n\r\n  return (\r\n    <Modal show={props.show}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add Entry to list \"{props.list.list_name}\"</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <SearchBar entryDialogue={true} sendResult={getMovie} />\r\n        {movies.map((movie) => (\r\n          <Button\r\n            style={{ margin: \"10px\" }}\r\n            key={movie.movie_id}\r\n            onClick={() => removeMovie(movie)}\r\n          >\r\n            {movie.movie_title}\r\n          </Button>\r\n        ))}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={closeBox}>\r\n          Close\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={postMovies}>\r\n          Add movies\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nclass List extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n  }\r\n\r\n  clicked = (id) => {\r\n    console.log(\"clicked\");\r\n    this.props.history.push(`/movies/${id}`);\r\n  };\r\n  render() {\r\n    return (\r\n      <tbody>\r\n        {this.props.items.map((item, i) => (\r\n          <tr key={item.movie_id.toString()}>\r\n            <td>{i + 1}</td>\r\n            <td onClick={() => this.clicked(item.movie_id)}>\r\n              {item.movie_title}\r\n            </td>\r\n            <td>{item.score ? item.score : \"--\"}</td>\r\n            <td>{item.watch_status ? \"Watched\" : \"Plan to watch\"}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport { EntryDialogue };\r\nexport default withRouter(List);\r\n","import { Button, Modal, Form } from \"react-bootstrap\";\r\nimport React, { Component, useContext, useState } from \"react\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\n\r\nconst ListDialogue = (props) => {\r\n  let history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [isPrivate, setPrivate] = useState(false);\r\n  const user = useContext(UserContext);\r\n\r\n  const submitList = (event) => {\r\n    event.preventDefault();\r\n    console.log(name);\r\n    console.log(isPrivate);\r\n    console.log(localStorage.getItem(\"jwt\"));\r\n    fetch(\"http://localhost:5000/api/lists/\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        list_name: name,\r\n        is_private: isPrivate,\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.status != 200) {\r\n          console.log(user);\r\n          localStorage.setItem(\"lastLoc\", `${history.location.pathname}`);\r\n          history.push(\"/login\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        props.reloadPage();\r\n      });\r\n  };\r\n  return (\r\n    <Modal show={props.show}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add List</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={submitList}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter List Name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicCheckbox\">\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label=\"Make this private\"\r\n              defaultChecked={isPrivate}\r\n              onChange={(e) => setPrivate(e.target.checked)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={props.closeDialogue}>\r\n          Close\r\n        </Button>\r\n        <Button variant=\"primary\">Save Changes</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nclass AddList extends Component {\r\n  state = { show: false };\r\n  render() {\r\n    return (\r\n      <Button style={{ marginTop: \"20px\" }} onClick={this.props.onClick}>\r\n        Add list\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport { ListDialogue };\r\nexport default withRouter(AddList);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport List from \"./list\";\r\nimport { Table, Button, Col, Row, FormControl, Form } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLock, faSort } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Checkbox, FormControlLabel } from \"@material-ui/core\";\r\nimport AddList, { Dialogue } from \"../components/addList\";\r\n\r\nclass Lists extends Component {\r\n  static contextType = UserContext;\r\n  state = {\r\n    entries: [],\r\n    ratings: [],\r\n    showWatched: true,\r\n    showUnwatched: true,\r\n    searchString: \"\",\r\n    sortMode: 1,\r\n    sort: 0,\r\n  };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    console.log(this.props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    this.fetchEntries()\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.status != 200) {\r\n          console.log(this.context.user);\r\n          localStorage.setItem(\"lastLoc\", `${this.props.location.pathname}`);\r\n          this.props.history.push(\"/login\");\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((json) => {\r\n        console.log(json);\r\n        if (this._isMounted) {\r\n          this.setState({ entries: json });\r\n        }\r\n      });\r\n    this.fetchRatings()\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.status != 200) {\r\n          console.log(this.context.user);\r\n          localStorage.setItem(\"lastLoc\", `${this.props.location.pathname}`);\r\n          this.props.history.push(\"/login\");\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((json) => {\r\n        console.log(json);\r\n        if (this._isMounted) {\r\n          this.setState({ ratings: json });\r\n        }\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  fetchEntries = () => {\r\n    return fetch(\r\n      `http://localhost:5000/api/users/${this.props.match.params.id}/entries`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      }\r\n    );\r\n  };\r\n  fetchRatings = () => {\r\n    return fetch(\r\n      `http://localhost:5000/api/users/${this.props.match.params.id}/ratings`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  toggleWatched = () => {\r\n    console.log(\"watched\");\r\n    this.state.showWatched\r\n      ? this.setState({ showWatched: false })\r\n      : this.setState({ showWatched: true });\r\n  };\r\n  toggleUnwatched = () => {\r\n    console.log(\"unwatched\");\r\n    this.state.showUnwatched\r\n      ? this.setState({ showUnwatched: false })\r\n      : this.setState({ showUnwatched: true });\r\n  };\r\n  toggleSort = (mode) => {\r\n    this.state.sortMode == mode\r\n      ? this.state.sort == -1\r\n        ? this.setState({ sort: 1 })\r\n        : this.setState({ sort: -1 })\r\n      : this.setState({ sortMode: mode });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <>\r\n        <Row>\r\n          <Col>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={this.state.showWatched}\r\n                  onChange={this.toggleWatched}\r\n                  name=\"watched\"\r\n                />\r\n              }\r\n              label=\"Watched\"\r\n            />\r\n          </Col>\r\n          <Col>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={this.state.showUnwatched}\r\n                  onChange={this.toggleUnwatched}\r\n                  name=\"unwatched\"\r\n                />\r\n              }\r\n              label=\"Plan to watch\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs={10}>\r\n            <Table striped bordered hover>\r\n              <thead>\r\n                <tr>\r\n                  <th>#</th>\r\n                  <th>\r\n                    <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                      <Form.Label column sm={2}>\r\n                        Movie\r\n                      </Form.Label>\r\n                      <Col sm={10}>\r\n                        <FormControl\r\n                          value={this.state.searchString}\r\n                          type=\"text\"\r\n                          placeholder=\"Search...\"\r\n                          onChange={(event) =>\r\n                            this.setState({ searchString: event.target.value })\r\n                          }\r\n                        />\r\n                      </Col>\r\n                    </Form.Group>\r\n                  </th>\r\n                  <th>\r\n                    Score\r\n                    <FontAwesomeIcon\r\n                      style={{ marginLeft: \"5px\" }}\r\n                      icon={faSort}\r\n                      onClick={() => this.toggleSort(1)}\r\n                    />\r\n                  </th>\r\n                  <th>\r\n                    Watch Status\r\n                    <FontAwesomeIcon\r\n                      style={{ marginLeft: \"5px\" }}\r\n                      icon={faSort}\r\n                      onClick={() => this.toggleSort(2)}\r\n                    />\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <List\r\n                key={this.state.sort}\r\n                items={\r\n                  !this.props.selected_all\r\n                    ? this.state.entries\r\n                        .filter(\r\n                          (entry) =>\r\n                            entry.list_id == this.props.selected_list.list_id\r\n                        )\r\n                        .filter((entry) => {\r\n                          if (this.state.showWatched && entry.watch_status == 1)\r\n                            return true;\r\n                          else if (\r\n                            this.state.showUnwatched &&\r\n                            entry.watch_status == 0\r\n                          )\r\n                            return true;\r\n                          return false;\r\n                        })\r\n                        .filter(\r\n                          (entry) =>\r\n                            entry.movie_title\r\n                              .toLowerCase()\r\n                              .search(this.state.searchString.toLowerCase()) >=\r\n                            0\r\n                        )\r\n                        .sort((a, b) => {\r\n                          if (this.state.sortMode == 1)\r\n                            return (a.score - b.score) * this.state.sort;\r\n                          if (this.state.sortMode == 2)\r\n                            return (\r\n                              (a.watch_status - b.watch_status) *\r\n                              this.state.sort\r\n                            );\r\n                        })\r\n                    : this.state.ratings\r\n                        .filter((entry) => {\r\n                          if (this.state.showWatched && entry.watch_status == 1)\r\n                            return true;\r\n                          else if (\r\n                            this.state.showUnwatched &&\r\n                            entry.watch_status == 0\r\n                          )\r\n                            return true;\r\n                          return false;\r\n                        })\r\n                        .filter(\r\n                          (entry) =>\r\n                            entry.movie_title\r\n                              .toLowerCase()\r\n                              .search(this.state.searchString.toLowerCase()) >=\r\n                            0\r\n                        )\r\n                        .sort((a, b) => {\r\n                          if (this.state.sortMode == 1)\r\n                            return (a.score - b.score) * this.state.sort;\r\n                          if (this.state.sortMode == 2)\r\n                            return (\r\n                              (a.watch_status - b.watch_status) *\r\n                              this.state.sort\r\n                            );\r\n                        })\r\n                }\r\n              />\r\n            </Table>\r\n            <Button\r\n              style={{ display: this.props.selected_all ? \"none\" : \"block\" }}\r\n              onClick={() =>\r\n                this.props.showEntryDialogue(this.props.selected_list)\r\n              }\r\n            >\r\n              + Add movie to this list\r\n            </Button>\r\n            <Button\r\n              style={{ display: this.props.selected_all ? \"block\" : \"none\" }}\r\n              onClick={() =>\r\n                this.props.showRatingDialogue()\r\n              }\r\n            >\r\n              + Add movie\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <div className=\"btn-group-justified btn-group-vertical\">\r\n              <Button\r\n                className={this.props.selected_all ? \"btn-success\" : null}\r\n                style={{ marginBottom: \"20px\" }}\r\n                onClick={() => this.props.setSelectedAll(true)}\r\n              >\r\n                All\r\n              </Button>\r\n              <br></br>\r\n              <br></br>\r\n              {this.props.lists.map((list) => (\r\n                <Button\r\n                  key={list.list_id}\r\n                  className={\r\n                    list.list_id == this.props.selected_list.list_id &&\r\n                    !this.props.selected_all\r\n                      ? \"btn-success\"\r\n                      : \"btn-primary\"\r\n                  }\r\n                  style={{ marginBottom: \"3px\" }}\r\n                  onClick={() => {\r\n                    this.props.setSelectedAll(false);\r\n                    this.props.changeSelected(list);\r\n                  }}\r\n                >\r\n                  {list.is_private ? (\r\n                    <FontAwesomeIcon\r\n                      style={{ marginRight: \"5px\" }}\r\n                      icon={faLock}\r\n                    />\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                  {list.list_name}\r\n                </Button>\r\n              ))}\r\n              <br></br>\r\n              <br></br>\r\n              <AddList onClick={this.props.showListDialogue} />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Lists);\r\n","import React, { Component, useContext, useState, useEffect } from \"react\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\nimport {\r\n  Card,\r\n  Image,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport \"../styles/personCard.css\";\r\nimport lists from \"./lists\";\r\n\r\nconst FullRating = (props) => {\r\n  let [newRating, setNewRating] = useState({\r\n    movie_id: props.movie_id,\r\n    watch_status: 0,\r\n    score: 0,\r\n    review: \"\",\r\n  });\r\n  let user = useContext(UserContext);\r\n  let [rating, setRating] = useState({\r\n    user_id: 0,\r\n    movie_id: 0,\r\n    watch_status: 0,\r\n    score: 0,\r\n    review: \"\",\r\n  });\r\n  let [ratingExists, setRatingExists] = useState(false);\r\n  let [lists, setLists] = useState([]);\r\n  let [editMode, setEditMode] = useState(true);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    console.log(user.user);\r\n    console.log(props);\r\n    fetchRating();\r\n    if (props.showLists) fetchLists();\r\n  }, [user]);\r\n\r\n  const fetchRating = () => {\r\n    console.log(user.user);\r\n    console.log(props);\r\n    if (Object.keys(user.user).length)\r\n      fetch(\r\n        `http://localhost:5000/api/users/${user.user.user_id}/${props.movie_id}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\",\r\n          },\r\n        }\r\n      )\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          console.log(json);\r\n          if (json && Object.keys(json).length && !json.msg) {\r\n            setRatingExists(true);\r\n            setRating(json);\r\n            setEditMode(false);\r\n            setNewRating((prevState) => ({\r\n              ...prevState,\r\n              watch_status: json.watch_status,\r\n              score: json.score,\r\n              review: json.review,\r\n            }));\r\n          }\r\n        });\r\n  };\r\n\r\n  const fetchLists = () => {\r\n    console.log(user.user);\r\n    console.log(props);\r\n    if (Object.keys(user.user).length)\r\n      fetch(\r\n        `http://localhost:5000/api/users/${user.user.user_id}/movies/${props.movie_id}/lists`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n          },\r\n        }\r\n      )\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          console.log(json);\r\n          if (json && Object.keys(json).length && !json.msg) {\r\n            setLists(json);\r\n          }\r\n        });\r\n  };\r\n\r\n  const submitRating = () => {\r\n    console.log(newRating);\r\n    fetch(`http://localhost:5000/api/users/${user.user.user_id}`, {\r\n      method: ratingExists ? \"PUT\" : \"POST\",\r\n      body: JSON.stringify(newRating),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.status != 200) {\r\n          localStorage.setItem(\"lastLoc\", `${history.location.pathname}`);\r\n          history.push(\"/login\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        fetchRating();\r\n        setEditMode(false);\r\n      });\r\n  };\r\n  console.log(Object.keys(rating).length);\r\n  if (Object.keys(user.user).length && rating) {\r\n    if (!editMode) {\r\n      if (ratingExists && Object.keys(rating).length) {\r\n        return (\r\n          <Row>\r\n            <Col>\r\n              <Card\r\n                border={rating.watch_status ? \"success\" : \"secondary\"}\r\n                style={{ width: \"18rem\" }}\r\n              >\r\n                <Card.Header>\r\n                  {rating.watch_status ? \"Watched\" : \"Plan to watch\"}\r\n                </Card.Header>\r\n                <ListGroup className=\"list-group-flush\">\r\n                  <ListGroupItem>\r\n                    <Card.Text>\r\n                      Your score:<br></br>\r\n                      <Rating\r\n                        name=\"read-only\"\r\n                        value={rating.score * 0.5}\r\n                        max={5}\r\n                        precision={0.5}\r\n                        size=\"small\"\r\n                        readOnly\r\n                        emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\r\n                      />\r\n                    </Card.Text>\r\n                  </ListGroupItem>\r\n                  <ListGroupItem>\r\n                    <Card.Title>Your review:</Card.Title>\r\n                    <Card.Text>{rating.review}</Card.Text>\r\n                  </ListGroupItem>\r\n                </ListGroup>\r\n                <Card.Footer>\r\n                  <Button size=\"sm\" onClick={() => setEditMode(true)}>\r\n                    Edit\r\n                  </Button>\r\n                </Card.Footer>\r\n              </Card>\r\n            </Col>\r\n            {props.showLists ? <PresentInLists lists={lists} /> : <></>}\r\n          </Row>\r\n        );\r\n      }\r\n    } else {\r\n      return (\r\n        <Card\r\n          border={newRating.watch_status ? \"success\" : \"secondary\"}\r\n          style={{ width: \"18rem\" }}\r\n        >\r\n          <Card.Header>\r\n            <DropdownButton\r\n              variant={newRating.watch_status ? \"success\" : \"secondary\"}\r\n              title={newRating.watch_status ? \"Watched\" : \"Plan to watch\"}\r\n            >\r\n              <Dropdown.Item\r\n                eventKey=\"1\"\r\n                onClick={() =>\r\n                  newRating.watch_status\r\n                    ? setNewRating((prevState) => ({\r\n                        ...prevState,\r\n                        watch_status: 0,\r\n                      }))\r\n                    : setNewRating((prevState) => ({\r\n                        ...prevState,\r\n                        watch_status: 1,\r\n                      }))\r\n                }\r\n              >\r\n                {!newRating.watch_status ? \"Watched\" : \"Plan to watch\"}\r\n              </Dropdown.Item>\r\n            </DropdownButton>\r\n          </Card.Header>\r\n          <ListGroup className=\"list-group-flush\">\r\n            <ListGroupItem>\r\n              <Card.Text>\r\n                Your score:<br></br>\r\n                <Rating\r\n                  name=\"customized-empty\"\r\n                  className=\"user-rating\"\r\n                  value={newRating.score * 0.5}\r\n                  max={5}\r\n                  precision={0.5}\r\n                  size=\"small\"\r\n                  emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\r\n                  onChange={(event, newScore) => {\r\n                    setNewRating((prevState) => ({\r\n                      ...prevState,\r\n                      score: newScore * 2,\r\n                    }));\r\n                  }}\r\n                />\r\n              </Card.Text>\r\n            </ListGroupItem>\r\n            <ListGroupItem>\r\n              <Card.Title>Your review:</Card.Title>\r\n              <Card.Text>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  defaultValue={newRating.review}\r\n                  onChange={(event) => {\r\n                    setNewRating((prevState) => ({\r\n                      ...prevState,\r\n                      review: event.target.value,\r\n                    }));\r\n                  }}\r\n                />\r\n              </Card.Text>\r\n            </ListGroupItem>\r\n          </ListGroup>\r\n          <Card.Footer>\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              onClick={() => setEditMode(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"float-right\"\r\n              size=\"sm\"\r\n              onClick={submitRating}\r\n            >\r\n              {ratingExists ? \"Save\" : \"Add\"}\r\n            </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n      );\r\n    }\r\n  }\r\n  return <></>;\r\n};\r\n\r\nconst PresentInLists = (props) => {\r\n  let user = useContext(UserContext);\r\n  let history = useHistory();\r\n\r\n  return (\r\n    <Col>\r\n      <div className=\"btn-group-justified btn-group-vertical\">\r\n        <div style={{ marginBottom: \"10px\" }}>Present in lists:</div>\r\n        {props.lists.length ? (\r\n          props.lists.map((list) => (\r\n            <Button\r\n              key={list.list_id}\r\n              size=\"sm\"\r\n              style={{ marginBottom: \"10px\" }}\r\n              onClick={() =>\r\n                history.push({\r\n                  pathname: `/users/${user.user.user_id}/lists`,\r\n                  state: { selected_list: list },\r\n                })\r\n              }\r\n            >\r\n              {\" \"}\r\n              {list.is_private ? (\r\n                <FontAwesomeIcon style={{ marginRight: \"5px\" }} icon={faLock} />\r\n              ) : (\r\n                <></>\r\n              )}\r\n              {list.list_name}\r\n            </Button>\r\n          ))\r\n        ) : (\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"secondary\"\r\n            style={{ marginBottom: \"10px\" }}\r\n            disabled\r\n          >\r\n            Not in any :(\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Col>\r\n  );\r\n};\r\n\r\nconst OthersRatings = (props) => {\r\n  let [ratings, setRatings] = useState([]);\r\n  let [onlyfriends, setOnlyFriends] = useState(false);\r\n  useEffect(() => {\r\n    console.log(props);\r\n    fetchRatings();\r\n  }, []);\r\n\r\n  const fetchRatings = () => {\r\n    console.log(props);\r\n    fetch(`http://localhost:5000/api/movies/${props.movie_id}/ratings`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        console.log(json);\r\n        if (json && Object.keys(json).length && !json.msg) {\r\n          setRatings(json);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {ratings.map((rating) => (\r\n        <Card key={rating.user_id} style={{ marginBottom: \"50px\" }}>\r\n          <Card.Header>{rating.username}</Card.Header>\r\n          <Card.Body>\r\n            <blockquote className=\"blockquote mb-0\">\r\n              <p> \"{rating.review}\" </p>\r\n              <Card.Subtitle>\r\n                <Rating\r\n                  name=\"read-only\"\r\n                  value={rating.score * 0.5}\r\n                  max={5}\r\n                  precision={0.5}\r\n                  size=\"small\"\r\n                  emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\r\n                  readOnly\r\n                />\r\n              </Card.Subtitle>\r\n            </blockquote>\r\n          </Card.Body>\r\n        </Card>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nclass MovieDetailed extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    movie_id: this.props.movie_id,\r\n    movie: [],\r\n    genres: [],\r\n    people: [],\r\n  };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.fetchMovie(this.state.movie_id);\r\n    console.log(this.props);\r\n    console.log(context);\r\n  }\r\n\r\n  fetchMovie(movie_id) {\r\n    fetch(`http://localhost:5000/api/movies/${movie_id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        this.setState({ movie: json });\r\n        this.setState({ people: json.people });\r\n        this.setState({ genres: json.genres });\r\n        console.log(this.state.people);\r\n        console.log(this.state.genres);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    console.log(\"hi2\");\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <Image\r\n              src={this.state.movie.poster_url}\r\n              style={{ width: \"350px\", height: \"calc(350px * (40/27))\" }}\r\n              thumbnail\r\n            />\r\n            <div style={{ overflow: \"hidden\", position: \"relative\" }}>\r\n              <Rating\r\n                name=\"read-only\"\r\n                value={this.state.movie.avg_rating * 0.5}\r\n                max={5}\r\n                precision={0.1}\r\n                size=\"large\"\r\n                readOnly\r\n                emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col>\r\n            <h1 className=\"display-4\">{this.state.movie.movie_title}</h1>\r\n            {this.state.genres.map((genre) => (\r\n              <div key={genre.genre_id}>\r\n                {capitalizeFirstLetter(genre.genre_name)}\r\n              </div>\r\n            ))}\r\n            {this.state.movie.movie_description}\r\n            <br></br>\r\n            <br></br>\r\n            <Button\r\n              variant=\"danger\"\r\n              style={{marginBottom: \"30px\"}}\r\n              onClick={() => {\r\n                this.props.history.push({\r\n                  pathname: `/movies/${this.state.movie.movie_id}/shows`,\r\n                  state: { movie_id: this.state.movie.movie_id },\r\n                });\r\n                console.log(this.state.movie.movie_id);\r\n              }}\r\n              block\r\n            >\r\n              Book\r\n            </Button>\r\n            <FullRating\r\n              key={this.props.movie_id}\r\n              movie_id={this.props.movie_id}\r\n              showLists={true}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <div className=\"d-flex align-content-stretch flex-wrap bd-highlight example-parent person\">\r\n          {this.state.people.map((person) => (\r\n            <div\r\n              key={person.person_id}\r\n              className=\"p-2 bd-highlight col-example\"\r\n            >\r\n              <Card\r\n                border=\"secondary\"\r\n                style={{ width: \"160px\", height: \"300px\" }}\r\n              >\r\n                <Card.Header>\r\n                  {person.person_role == \"NULL\" ? \"Crew\" : \"Cast\"}\r\n                </Card.Header>\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  src={person.profile_url}\r\n                  className=\"img-fluid\"\r\n                  style={{ width: \"auto\", height: \"150px\" }}\r\n                />\r\n                <Card.Body>\r\n                  <Card.Title>{person.person_name}</Card.Title>\r\n                  <Card.Text>\r\n                    {person.person_role == \"NULL\"\r\n                      ? capitalizeFirstLetter(person.cast_or_crew)\r\n                      : \"As \" + parseRoles(person.person_role)}\r\n                  </Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <OthersRatings movie_id={this.state.movie_id} />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction parseRoles(string) {\r\n  var arr = string.split('\"');\r\n  var i;\r\n  var result = \"\";\r\n  for (i = 1; i < arr.length - 1; i += 1) {\r\n    result = result + arr[i];\r\n    if (i % 2 == 0) result += \" \";\r\n  }\r\n  return result;\r\n}\r\n\r\nexport { FullRating };\r\nexport default withRouter(MovieDetailed);\r\n","import React, { Component } from \"react\";\r\nimport SideBar from \"../components/sideBar\";\r\nimport TopBar from \"../components/topBar\";\r\nimport { Container, Row, Col, Card, Form, Button } from \"react-bootstrap\";\r\nimport MovieDetailed from \"../components/movieDetailed\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass MoviePage extends Component {\r\n  state = {\r\n    movie_id: this.props.match.params.id,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Container fluid>\r\n          <TopBar />\r\n          <br></br>\r\n          <Row>\r\n            <Col xs={2} id=\"sidebar-wrapper\">\r\n              <SideBar />\r\n            </Col>\r\n            <Col xs={10}>\r\n              <MovieDetailed movie_id={this.state.movie_id} />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MoviePage);\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport UserContext from \"../contexts/userContext\";\r\n\r\nclass LoginPage extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  handleUsernameChange = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  };\r\n\r\n  handlePasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n\r\n  doLogin = (event) => {\r\n    event.preventDefault();\r\n    fetch(\"http://localhost:5000/api/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        if (json.error) alert(json.error);\r\n        else {\r\n          localStorage.setItem(\"jwt\", json.jwt);\r\n          this.context.loginUser();\r\n          console.log(localStorage.getItem(\"lastLoc\"));\r\n          this.props.history.push(\r\n            localStorage.getItem(\"lastLoc\")\r\n              ? localStorage.getItem(\"lastLoc\")\r\n              : \"/\"\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.doLogin}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            onChange={this.handleUsernameChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={this.handlePasswordChange}\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginPage);\r\n","import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { withRouter } from \"react-router\";\r\nimport { Card, Image, Container, Row, Col, Button} from \"react-bootstrap\";\r\n\r\nclass ShowsPage extends Component{\r\n  \r\n      constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            movie_id: this.props.location.state.movie_id,\r\n            //startDate: new Date(),\r\n            shows:[]\r\n        }\r\n        //console.log(this.props);\r\n        this.fetchShows(this.state.movie_id);\r\n      }\r\n     /*handleChange = (date) => {\r\n        this.setState({\r\n          startDate: date\r\n        })\r\n      }\r\n      onFormSubmit = (e) => {\r\n       e.preventDefault();\r\n       console.log(this.state.startDate);\r\n       console.log(this.state.shows);\r\n    }*/\r\n\r\n      fetchShows(movie_id){\r\n        fetch(`http://localhost:5000/api/movies/${movie_id}/shows`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n       this.setState({shows: json})\r\n       \r\n       console.log(json);\r\n      });\r\n      }\r\n      render(){\r\n          return (\r\n       /* <form onSubmit={ this.onFormSubmit }>  \r\n        <div className=\"form-group\">\r\n        <p className = \"ShowTitle\"> Choose Date and Time: </p>\r\n          <DatePicker\r\n              selected={ this.state.startDate }\r\n              onChange={ this.handleChange }\r\n              name=\"startDate\"\r\n              dateFormat=\"MM/dd/yyyy\"\r\n          />\r\n         <button className=\"btn btn-primary\">Set Date</button>\r\n        </div>\r\n      </form>*/\r\n   <div className = \"ShowList\">\r\n   {this.state.shows.map((show) => \r\n       (<div\r\n          key={show.show_id}\r\n          className=\"d-flex flex-column bd-highlight mb-3\"\r\n        >\r\n      <Card bg=\"dark\" text = \"light\">\r\n  <Card.Header as=\"h5\" >Featured</Card.Header>\r\n  <Card.Body>\r\n    <Card.Title>{show.theatre_mall}</Card.Title>\r\n    <Card.Text>\r\n      {show.date_time}\r\n    </Card.Text>\r\n    <Button variant=\"success\" onClick={() => {\r\n          this.props.history.push({pathname:`/shows/${show.show_id}/seats`, state:{show_id:show.show_id}});\r\n          console.log(show.show_id);\r\n        }}>Book Show</Button>\r\n  </Card.Body>\r\n</Card>\r\n        \r\n       </div>\r\n   ))}\r\n     </div>\r\n \r\n      \r\n          );\r\n      }\r\n}\r\nexport default withRouter(ShowsPage);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Card, Image, Container, Row, Col, Button} from \"react-bootstrap\";\r\nimport \"../styles/SeatsPage.css\";\r\n\r\nvar BookedSeats = []\r\nclass SeatsPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            show_id: this.props.location.state.show_id,\r\n            seats:[]\r\n        }\r\n        this.fetchSeats(this.state.show_id);\r\n    }\r\n    \r\n    RemoveSeat(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if (index > -1) {\r\n          arr.splice(index, 1);\r\n        }\r\n        return arr;\r\n      }\r\n\r\n    SeatSelect=(id)=>{\r\n        //console.log(\"Pressed\");\r\n        let t = document.getElementById(id).classList.toggle(\"select\");\r\n        if(t==true){\r\n            BookedSeats.push(id);\r\n        }\r\n        else{\r\n            this.RemoveSeat(BookedSeats,id);\r\n            \r\n        }\r\n    }\r\n\r\n    SeatCheck=(code,status)=>{\r\n        if(status==0){\r\n            return(\r\n                <button style ={{width:\"76px\", height:\"60px\", backgroundColor:\"red\"}} id = {code} >{code}</button>\r\n            );\r\n        }\r\n        else{\r\n            return(\r\n                <button style ={{width:\"76px\", height:\"60px\"}} id = {code} onClick={()=>this.SeatSelect(code)}>{code}</button>\r\n            );\r\n        }\r\n    }\r\n\r\n    SortSeats=(a)=>{\r\n        let i;\r\n        let j;\r\n        for(i=0;i<a.length;i++){\r\n            for(j=0;j<a.length-1;j++){\r\n                let n = parseInt(a[j].seat_code.slice(1));\r\n                let m = parseInt(a[j+1].seat_code.slice(1));\r\n                let c = a[j].seat_code.charAt(0);\r\n                let d = a[j+1].seat_code.charAt(0);\r\n                if(c.localeCompare(d)==0){\r\n                    if(n>m){\r\n                        let temp = a[j];\r\n                        a[j]=a[j+1];\r\n                        a[j+1]=temp;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n\r\n    fetchSeats(show_id){\r\n        fetch(`http://localhost:5000/api/shows/${show_id}/seats`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        \r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n       this.setState({seats: this.SortSeats(json)})\r\n       console.log(\"Sorted seats:\",this.SortSeats(json));\r\n      });\r\n    }\r\n    \r\n      render(){\r\n          return(\r\n              <>\r\n              <br/>\r\n              <p className = \"seattitle\">Select Your Seats</p>\r\n              \r\n              <br/>\r\n              <div className=\"d-flex align-content-stretch flex-wrap\">\r\n                  {this.state.seats.map((seats) =>\r\n                  (\r\n                      <div key={seats.seat_code} >\r\n                          {this.SeatCheck(seats.seat_code,seats.seat_status)}\r\n                      </div>\r\n                        \r\n                      ))\r\n                   }\r\n\r\n              </div>\r\n              <hr size='30px' color=\"blue\"/>\r\n              <p className = \"screen\">Screen here</p>\r\n              <br/><br/>\r\n              <br/><br/>\r\n              <Button variant=\"success\" \r\n              style={{width: \"50%\",height: \"100px\",marginRight: \"25%\",marginLeft: \"25%\",\r\n              fontSize:\"30px\", borderRadius:\"100px\"}} onClick={() => {\r\n                this.props.history.push({pathname:`/shows/${this.state.show_id}/book`, state:{SeatsBooked:BookedSeats,show_id:this.state.show_id}});\r\n                \r\n              }}>Proceed to pay</Button>\r\n              \r\n              </>\r\n\r\n          );\r\n      }\r\n    \r\n}\r\nexport default withRouter(SeatsPage);","import React, { useState } from \"react\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\n\r\nfunction PaymentButton() {\r\n    const paymentRequest = {\r\n      apiVersion: 2,\r\n      apiVersionMinor: 0,\r\n      allowedPaymentMethods: [\r\n        {\r\n          type: \"CARD\",\r\n          parameters: {\r\n            allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n            allowedCardNetworks: [\"MASTERCARD\", \"VISA\"]\r\n          },\r\n          tokenizationSpecification: {\r\n            type: \"PAYMENT_GATEWAY\",\r\n            parameters: {\r\n              gateway: \"example\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      merchantInfo: {\r\n        merchantId: \"12345678901234567890\",\r\n        merchantName: \"Demo Merchant\"\r\n      },\r\n      transactionInfo: {\r\n        totalPriceStatus: \"FINAL\",\r\n        totalPriceLabel: \"Total\",\r\n        totalPrice: \"100.00\",\r\n        currencyCode: \"USD\",\r\n        countryCode: \"US\"\r\n      }\r\n    };\r\n    const [buttonColor, setButtonColor] = useState(\"default\");\r\n  const [buttonType, setButtonType] = useState(\"plain\");\r\n  const [buttonSizeMode, setButtonSizeMode] = useState(\"static\");\r\n  const [buttonWidth, setButtonWidth] = useState(300);\r\n  const [buttonHeight, setButtonHeight] = useState(90);\r\n  return(\r\n    <GooglePayButton\r\n    environment=\"TEST\"Home\r\n    buttonColor={buttonColor}\r\n    buttonType={buttonType}\r\n    buttonSizeMode={buttonSizeMode}\r\n    paymentRequest={paymentRequest}\r\n    onLoadPaymentData={paymentRequest => {\r\n      console.log(\"load payment data\", paymentRequest);\r\n    }}\r\n    style={{ width: buttonWidth, height: buttonHeight }}\r\n  />\r\n  );\r\n}\r\nexport default PaymentButton;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Card, Image, Container, Row, Col, Button} from \"react-bootstrap\";\r\nimport PaymentButton from \"../components/PaymentButton\";\r\nimport \"../styles/BookingPage.css\";\r\n\r\nclass BookingPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            BSeats: this.props.location.state.SeatsBooked, \r\n            show_id: this.props.location.state.show_id\r\n        }\r\n        console.log(this.state.BSeats);\r\n    }\r\n\r\n    Book(seats,show_id){\r\n        fetch(`http://localhost:5000/api/shows/${show_id}/book`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n            seats: seats,\r\n            paymentDeets: \"hi\"\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n       this.setState({seats: json})\r\n       \r\n       console.log(json);\r\n      });\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"GPay\">\r\n                <p className = \"Thanks\">Thank you! Please complete your booking by paying below. Make sure to receive your ticket! Enjoy</p>\r\n                <PaymentButton/>\r\n                <Button variant=\"success\" size = \"lg\" onClick={()=> this.Book(this.state.BSeats,this.state.show_id)}>Send ticket</Button>\r\n                <br/><br/><br/><br/>\r\n                \r\n                \r\n            </div>\r\n          \r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(BookingPage);\r\n\r\n","import { FullRating } from \"./movieDetailed\";\r\nimport React, { Component, useState } from \"react\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\nimport { Modal, Form, Button } from \"react-bootstrap\";\r\nimport SearchBar from \"./searchBar\";\r\n\r\nconst RatingDialogue = (props) => {\r\n  const [movie, setMovie] = useState({});\r\n    const [hasSelectedMovie, setHasSelectedMovie] = useState(false);\r\n\r\n  const getMovie = (movie_id, movie_title) => {\r\n    console.log(movie_id);\r\n    console.log(movie_title);\r\n    setMovie({ movie_id: movie_id, movie_title: movie_title });\r\n    setHasSelectedMovie(true);\r\n  };\r\n  const closeBox = () => {\r\n    setMovie({});\r\n    props.closeDialogue();\r\n  };\r\n\r\n  const MovieDisplay = () => {\r\n    if (hasSelectedMovie) {\r\n      return (\r\n        <div>\r\n          <Button onClick={() => setHasSelectedMovie(false)} style={{marginBottom: \"10px\"}}>\r\n            {movie.movie_title}\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <SearchBar entryDialogue={true} sendResult={getMovie} />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={props.show}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add a movie</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <MovieDisplay/>\r\n        {hasSelectedMovie?<FullRating key={movie.movie_id} movie_id={movie.movie_id} showList={false}/>:<></>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={closeBox}>\r\n          Close\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RatingDialogue;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form,\r\n  Button,\r\n  Table,\r\n  Modal,\r\n} from \"react-bootstrap\";\r\nimport UserContext from \"../contexts/userContext\";\r\nimport Movies from \"../components/movies\";\r\nimport SideBar from \"../components/sideBar\";\r\nimport TopBar from \"../components/topBar\";\r\nimport AddList, { ListDialogue } from \"../components/addList\";\r\nimport RatingDialogue from \"../components/ratingDialogue\";\r\nimport { EntryDialogue } from \"../components/list\";\r\nimport { withRouter } from \"react-router\";\r\nimport Lists from \"../components/lists\";\r\n\r\nclass ListsPage extends Component {\r\n  state = {\r\n    showList: false,\r\n    showEntry: false,\r\n    showRating: false,\r\n    lists: [{ list_id: 0, list_name: \"\", is_private: 0 }],\r\n    selected_list: {},\r\n    refreshEntries: true,\r\n    selected_all: true,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.location);\r\n  }\r\n\r\n  showListDialogue = () => {\r\n    this.setState({ showList: true });\r\n  };\r\n  closeListDialogue = () => {\r\n    this.setState({ showList: false });\r\n  };\r\n  showEntryDialogue = (list) => {\r\n    console.log(list);\r\n    this.setState({ selected_list: list, showEntry: true });\r\n  };\r\n  closeEntryDialogue = () => {\r\n    this.setState({ showEntry: false });\r\n  };\r\n  showRatingDialogue = () => {\r\n    this.setState({ showRating: true });\r\n  };\r\n  closeRatingDialogue = () => {\r\n    this.setState({ showRating: false });\r\n  };\r\n\r\n  reloadEntries = () => {\r\n    this.state.refreshEntries\r\n      ? this.setState({ refreshEntries: false, selected_all: false })\r\n      : this.setState({ refreshEntries: true, selected_all: false });\r\n  };\r\n  reloadLists = () => {\r\n    this.fetchLists();\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.fetchLists();\r\n  };\r\n\r\n  fetchLists = () => {\r\n    fetch(`http://localhost:5000/api/users/${this.props.match.params.id}/lists`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.status != 200) {\r\n          localStorage.setItem(\"lastLoc\", `${this.props.location.pathname}`);\r\n          this.props.history.push(\"/login\");\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((json) => {\r\n        console.log(json);\r\n        if (json.msg != undefined) {\r\n          localStorage.setItem(\"lastLoc\", `${this.props.location.pathname}`);\r\n          this.props.history.push(\"/login\");\r\n        } else {\r\n          if (\r\n            Object.keys(this.state.selected_list).length === 0 &&\r\n            json.length\r\n          ) {\r\n            console.log(Object.keys(this.state.selected_list).length);\r\n            console.log(\"1\");\r\n            console.log(json);\r\n            this.setState({ lists: json, selected_list: json[0] });\r\n          } else {\r\n            console.log(Object.keys(this.state.selected_list).length);\r\n            this.setState({ lists: json });\r\n          }\r\n        }\r\n      })\r\n      .then(() => {\r\n        if (this.props.location.state)\r\n          this.setState({\r\n            selected_list: this.props.location.state.selected_list,\r\n            selected_all: false,\r\n          });\r\n      });\r\n  };\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <>\r\n        <Container fluid>\r\n          <TopBar />\r\n          <br></br>\r\n          <Row>\r\n            <Col xs={2} id=\"sidebar-wrapper\">\r\n              <SideBar />\r\n            </Col>\r\n            <Col xs={10} id=\"page-content-wrapper\">\r\n              <Container>\r\n                <Lists\r\n                  key={\r\n                    this.state.lists.toString() +\r\n                    \" \" +\r\n                    this.state.refreshEntries.toString() +\r\n                    \" \" +\r\n                    this.state.selected_list.toString() +\r\n                    \" \" +\r\n                    this.state.selected_all.toString()\r\n                  }\r\n                  lists={this.state.lists}\r\n                  selected_list={this.state.selected_list}\r\n                  changeSelected={(list) => {\r\n                    this.setState({ selected_list: list });\r\n                  }}\r\n                  setSelectedAll={(bool)=>this.setState({selected_all: bool})}\r\n                  selected_all={this.state.selected_all}\r\n                  showListDialogue={this.showListDialogue}\r\n                  showEntryDialogue={this.showEntryDialogue}\r\n                  showRatingDialogue={this.showRatingDialogue}\r\n                />\r\n              </Container>\r\n            </Col>\r\n          </Row>\r\n          <ListDialogue\r\n            selected_list={this.state.selected_list}\r\n            show={this.state.showList}\r\n            closeDialogue={this.closeListDialogue}\r\n            reloadPage={this.reloadLists}\r\n          />\r\n          <EntryDialogue\r\n            list={this.state.selected_list}\r\n            show={this.state.showEntry}\r\n            closeDialogue={this.closeEntryDialogue}\r\n            reloadPage={this.reloadEntries}\r\n          />\r\n          <RatingDialogue\r\n            show={this.state.showRating}\r\n            closeDialogue={this.closeRatingDialogue}\r\n            reloadPage={this.reloadEntries}\r\n          />\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ListsPage);\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport SearchBar from \"../components/searchBar\";\r\nimport UserContext from \"../contexts/userContext\";\r\n\r\nclass SignupPage extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    city_id: 0,\r\n    city_name: \"\",\r\n    has_selected_city: false,\r\n  };\r\n\r\n  handleEmailChange = (event) => {\r\n    this.setState({ email: event.target.value });\r\n  };\r\n\r\n  handleUsernameChange = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  };\r\n\r\n  handlePasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n\r\n  doSignup = () => {\r\n    fetch(\"http://localhost:5000/api/signup\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n        email: this.state.email,\r\n        city_id: this.state.city_id,\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        if (json.error) alert(json.error);\r\n        else {\r\n          localStorage.setItem(\"jwt\", json.jwt);\r\n          this.context.loginUser();\r\n          console.log(localStorage.getItem(\"lastLoc\"));\r\n          this.props.history.push(\r\n            localStorage.getItem(\"lastLoc\")\r\n              ? localStorage.getItem(\"lastLoc\")\r\n              : \"/\"\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  getCity = (city_id, city_name) => {\r\n    console.log(city_id, city_name);\r\n    this.setState({\r\n      city_id: city_id,\r\n      city_name: city_name,\r\n      has_selected_city: true,\r\n    });\r\n  };\r\n\r\n  cityDisplay = () => {\r\n    if (this.state.has_selected_city) {\r\n      return (\r\n        <div>\r\n          <Button onClick={() => this.setState({ has_selected_city: false })}>\r\n            {this.state.city_name}\r\n          </Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <SearchBar entryDialogue={true} sendResult={this.getCity} type=\"city\" />\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            onChange={this.handleEmailChange}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formBasicUsername\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            onChange={this.handleUsernameChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={this.handlePasswordChange}\r\n          />\r\n        </Form.Group>\r\n        {this.cityDisplay()}\r\n        <Button\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          style={{ marginTop: \"20px\" }}\r\n          onClick={() => this.doSignup()}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SignupPage);\r\n","import React, { useState, useContext, Component } from \"react\";\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport MoviePage from \"./pages/MoviePage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport ShowsPage from \"./pages/ShowsPage\";\r\nimport SeatsPage from \"./pages/SeatsPage\";\r\nimport BookingPage from \"./pages/BookingPage\";\r\nimport ListsPage from \"./pages/ListsPage\";\r\nimport SignupPage from \"./pages/SignupPage\";\r\n\r\nimport UserContext, { UserProvider } from \"./contexts/userContext\";\r\n\r\nconst Routing = () => {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path=\"/\" render={() => <HomePage />} />\r\n          <Route\r\n            exact\r\n            path=\"/movies/:id\"\r\n            render={(props) => (\r\n              <MoviePage key={props.match.params.id} {...props} />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/users/:id/lists\"\r\n            render={(props) => (\r\n              <ListsPage key={props.match.params.id} {...props} />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/shows/:id/seats\"\r\n            render={() => (\r\n              <SeatsPage />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/shows/:id/book\"\r\n            render={() => (\r\n              <BookingPage />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/movies/:id/shows\"\r\n            render={() => (\r\n              <ShowsPage/>\r\n            )}\r\n          />\r\n          <Route exact path=\"/login\" render={() => <LoginPage />} />\r\n          <Route exact path=\"/signup\" render={() => <SignupPage />} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nfunction getDetails() {\r\n  return fetch(\"http://localhost:5000/api/is-logged-in\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=UTF-8\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n    },\r\n  });\r\n}\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {},\r\n    };\r\n  }\r\n\r\n  logout = () => {\r\n    localStorage.clear();\r\n    this.setState({ user: {} });\r\n  };\r\n\r\n  login = () => {\r\n    getDetails()\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        if (json.logged_in) {\r\n          this.setState({\r\n            user: {\r\n              user_id: json.details.user_id,\r\n              username: json.details.username,\r\n              city_id: json.details.city_id,\r\n              city: json.details.city_name,\r\n            },\r\n          });\r\n          console.log(this.state.user);\r\n        } else\r\n          this.setState({\r\n            user: {},\r\n          });\r\n        console.log(json);\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.login();\r\n  }\r\n  render() {\r\n    const value = {\r\n      user: this.state.user,\r\n      logoutUser: this.logout,\r\n      loginUser: this.login,\r\n    };\r\n    return (\r\n      <UserContext.Provider value={value}>\r\n        <Routing />\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport ReportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nReportWebVitals();\r\n"],"sourceRoot":""}